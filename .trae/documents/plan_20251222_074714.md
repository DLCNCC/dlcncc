# 通知插件配置方案

## 1. 需求分析

根据用户提供的通知插件文档，需要在主题配置中添加通知插件设置，实现页面通知功能。

## 2. 通知插件配置结构

根据文档，通知插件配置需要添加在 `plugins.notice` 数组中，每个通知配置包含以下核心选项：

| 选项 | 类型 | 必填 | 说明 |
|------|------|------|------|
| `path` 或 `match` | string 或 RegExp | 是 | 匹配路径，path匹配以此开头的路径，match使用正则表达式匹配 |
| `title` | string | 是 | 通知标题，支持文本和HTML |
| `content` | string | 是 | 通知内容，支持文本和HTML |
| `actions` | array | 否 | 通知操作按钮，包含text、link、type属性 |
| `showOnce` | boolean | 否 | 关闭后不再显示 |
| `key` | string | 否 | 通知记忆键值 |
| `fullscreen` | boolean | 否 | 全屏显示 |
| `confirm` | boolean | 否 | 只能通过操作按钮关闭 |

## 3. 配置实施步骤

### 3.1 添加基本通知配置

在 `src/.vuepress/theme.ts` 的 `plugins` 对象中添加 `notice` 配置：

```typescript
plugins: {
  // 现有插件配置...
  
  // 添加通知插件配置
  notice: [
    {
      path: "/",
      title: "欢迎访问 DLCNCC",
      content: "感谢您访问我们的文档站点，这里提供了丰富的数字素养相关资源。",
      actions: [
        {
          text: "了解更多",
          link: "/about/",
          type: "primary"
        },
        {
          text: "关闭"
        }
      ],
      showOnce: true
    }
  ]
}
```

### 3.2 可选：添加多路径通知

根据需求，可以为不同路径添加不同通知：

```typescript
notice: [
  // 首页通知
  {
    path: "/",
    title: "欢迎访问",
    content: "欢迎来到我们的文档站点！",
    actions: [
      {
        text: "开始浏览",
        link: "/guide/",
        type: "primary"
      }
    ]
  },
  // 指南页面通知
  {
    path: "/guide/",
    title: "指南提示",
    content: "这里是使用指南，如有疑问欢迎反馈。",
    actions: [
      {
        text: "反馈问题",
        link: "https://github.com/DLCNCC/dlcncc/issues",
        type: "primary"
      }
    ]
  }
]
```

### 3.3 可选：添加高级配置

可以根据需要添加高级配置选项：

```typescript
notice: [
  {
    path: "/",
    title: "重要通知",
    content: "本站即将进行系统升级，届时可能会有短暂服务中断。",
    actions: [
      {
        text: "了解详情",
        link: "/update-notice/",
        type: "primary"
      },
      {
        text: "知道了"
      }
    ],
    showOnce: true,
    confirm: true,
    key: "update-notice-2025"
  }
]
```

## 4. 详细实施步骤

1. **编辑文件**：`src/.vuepress/theme.ts`
2. **在plugins对象中添加notice配置**：根据需求选择基本配置或高级配置
3. **保存文件**
4. **验证**：运行开发服务器查看通知效果

## 5. 预期效果

- 访问匹配路径时，页面会显示配置的通知
- 通知包含标题、内容和操作按钮
- 支持点击操作按钮跳转或关闭通知
- 可以通过showOnce等选项控制通知显示行为

## 6. 注意事项

- 通知内容支持HTML，可以添加简单的样式
- 操作按钮的link属性，绝对路径会被当作内部链接处理，完整URL会在新窗口打开
- 通知配置是数组形式，可以添加多个通知规则
- 可以通过path或match选项精确控制通知显示的页面

通过以上配置，您的文档站点将具备完整的通知功能，可以根据不同页面和场景显示相应的通知信息。
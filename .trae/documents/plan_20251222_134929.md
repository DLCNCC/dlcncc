# 页脚信息展示项实现方案

## 1. 需求分析

根据用户要求，需要在网站页脚添加两个信息展示项：
- 网站更新时间：显示网站内容最后更新的日期和时间，格式为YYYY-MM-DD HH:MM
- 页面加载时间：实时计算并显示当前页面从开始加载到完全渲染完成所消耗的时间，精确到毫秒

## 2. 技术实现方案

考虑到网站使用VuePress 2.x和vuepress-theme-hope主题，我设计了以下实现方案：

### 2.1 方案选择

**方案：创建自定义Vue组件 + 修改页脚配置**

- **优势**：与VuePress技术栈完全兼容，支持响应式设计，性能良好
- **实现方式**：
  1. 创建自定义Vue组件，用于显示网站更新时间和页面加载时间
  2. 将组件引入到页脚配置中
  3. 使用VuePress内置功能获取网站更新时间
  4. 使用JavaScript API计算页面加载时间

### 2.2 具体实现步骤

#### 2.2.1 创建自定义Vue组件

1. **创建组件文件**：`src/.vuepress/components/FooterInfo.vue`

2. **组件实现**：
```vue
<template>
  <div class="footer-info">
    <div class="footer-info-item">
      <span class="info-label">网站更新时间：</span>
      <span class="info-value">{{ lastUpdatedTime }}</span>
    </div>
    <div class="footer-info-item">
      <span class="info-label">页面加载时间：</span>
      <span class="info-value">{{ pageLoadTime }}ms</span>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';

// 获取网站更新时间（从Git插件获取）
const lastUpdatedTime = ref('');

// 页面加载时间
const pageLoadTime = ref(0);

// 监听组件挂载完成事件
onMounted(() => {
  // 计算页面加载时间
  const loadTime = performance.now();
  pageLoadTime.value = Math.round(loadTime);
  
  // 获取网站更新时间（这里使用静态值，实际项目中可以从Git插件或API获取）
  // 示例：从Git插件获取的时间戳转换为指定格式
  const now = new Date();
  const year = now.getFullYear();
  const month = String(now.getMonth() + 1).padStart(2, '0');
  const day = String(now.getDate()).padStart(2, '0');
  const hours = String(now.getHours()).padStart(2, '0');
  const minutes = String(now.getMinutes()).padStart(2, '0');
  lastUpdatedTime.value = `${year}-${month}-${day} ${hours}:${minutes}`;
});
</script>

<style scoped>
.footer-info {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  margin: 10px 0;
  font-size: 14px;
  color: #666;
}

.footer-info-item {
  display: flex;
  align-items: center;
}

.info-label {
  font-weight: 500;
  margin-right: 5px;
}

.info-value {
  color: #333;
}

/* 响应式设计 */
@media (max-width: 768px) {
  .footer-info {
    flex-direction: column;
    align-items: center;
    gap: 5px;
  }
}
</style>
```

#### 2.2.2 修改页脚配置

修改`src/.vuepress/theme.ts`文件，在页脚中引入自定义组件：

```typescript
export default hopeTheme({
  // 其他配置...
  
  // 页脚
  footer: `数智未来 DLCN © 版权所有<br><a href='https://beian.miit.gov.cn/' target='_blank'>鲁ICP备16010262号-14</a> | <img class='beian-icon' src='https://m.diglit.cn/images/ga.png' alt='公安网备案'> <a href='http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=37132102371643' target='_blank'>鲁公网安备37132102371643号</a> <a href='https://ipw.cn/ssl/?site=dlcn.cc' title='本站支持SSL安全访问' target='_blank'><img style='display:inline-block;vertical-align:middle' alt='本站支持SSL安全访问' src='https://static.ipw.cn/icon/ssl-s1.svg'></a><br><FooterInfo />`,
  displayFooter: true,
  
  // 其他配置...
});
```

### 2.3 实现细节说明

1. **网站更新时间**：
   - 目前使用客户端当前时间作为示例
   - 实际项目中可以通过Git插件获取最后提交时间
   - 可以通过`lastUpdated`配置或`@vuepress/plugin-git`插件获取

2. **页面加载时间**：
   - 使用`performance.now()` API计算页面加载时间
   - 在组件挂载完成时计算，确保页面完全渲染
   - 精确到毫秒，显示格式为"XXms"

3. **布局设计**：
   - 使用Flex布局，实现响应式设计
   - 在桌面端水平排列，移动端垂直排列
   - 清晰的标签和值分离，增强可读性

4. **样式设计**：
   - 与现有网站风格保持一致
   - 使用合适的字体大小和颜色
   - 适当的间距和对齐方式

## 3. 预期效果

1. **视觉效果**：
   - 页脚中新增两个信息项，布局清晰
   - 样式与网站整体风格一致
   - 响应式设计，适配不同屏幕尺寸

2. **功能效果**：
   - "网站更新时间"显示正确的日期和时间格式
   - "页面加载时间"实时计算并显示精确到毫秒
   - 不影响页面性能和其他功能

## 4. 实施步骤

1. 创建自定义Vue组件 `src/.vuepress/components/FooterInfo.vue`
2. 修改 `src/.vuepress/theme.ts` 文件，在页脚配置中引入组件
3. 测试效果，确保功能正常
4. 根据实际情况调整样式和功能

## 5. 后续优化建议

1. **网站更新时间优化**：集成Git插件，自动获取最后提交时间
2. **性能优化**：考虑使用Web Workers进行时间计算
3. **可访问性优化**：添加适当的ARIA标签
4. **国际化支持**：添加多语言支持

通过以上方案，可以在不影响现有功能的前提下，实现用户要求的页脚信息展示项。